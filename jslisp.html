<!DOCTYPE html>
<head>
  <title>Garklein's stuff</title>
  <style>
div {
  padding-left: 3px;
}
.code {
  background-color: lightgray;
  color: darkslateblue;
}
  </style>
</head>
<body>
  <pre>
a tiny lisp I made for fun
supports variables (with the <span class='code'>set</span> function), numbers, addition, and lambdas

<div class='code'>P=s=&gt;eval(`[${s.replace(/[^()\s]+|\S/g,s=&gt;s=="("?"[":s==")"?"],":`"${s}",`)}]`)[0];
L=(s,e)=&gt;e.s[s]||e.p&&L(s,e.p);
E=(s,e)=&gt;s.map
 ?(s[0]==="set"?e.s[s[1]]=E(s[2],e)
  :s[0]==="lambda"?(...a)=&gt;{f={p:e,s:{}};s[1].map((x,i)=&gt;f.s[x]=a[i]);return E(s[2],f)}
  :E(s[0],e)(...s.slice(1).map(x=&gt;E(x,e))))
 :s==="+"?(...a)=&gt;a.reduce((x,y)=&gt;x+y):!isNaN(s)?+s:L(s,e);
rls=require("readline-sync");e={s:{}};while(s=rls.question("&gt; "))console.log(E(P(s),e));
</div>
  </pre>
</body>
